# Poster

Проект для публикации постов в Telegram канале [Семёныч, блин!](https://t.me/semyonichblin) с возможностью отображения постов на сайте и в любых других источниках.

## Основные идеи архитектуры

>  Нет задумки сделать модульный монолит, наличие транзакции упростит Rollback.
> 
> Для усложнения взяты Kafka и S3.

- Rest API имеет возможность получить список тегов из Tags Repository.
- Rest API имеет возможность получить список постов по фильтрам в том числе из Posts Repository.
- Posts Repository при создании поста сохраняет пост, загружает медиа в S3 и сохраняет их в БД, затем сохраняет теги. Сделано для наличия транзакции и упрощения архитектуры. Нет задумки сделать модульный монолит.
- Media Repository существует для очистки неиспользуемых медиа по крону.
- Есть событие о публикации нового поста для телеги (может быть других источников). Скорее всего для усложнения проекта будет использоваться Apache Kafka, хоть и локального диспатчера на каналах тут хватило бы с головой.
- Отсутствие сервисного слоя обусловлено отсутствием специфической логики обработки данных.

### Что можно было бы сделать по-другому

> Это если прям вообще по красоте, но это лишние заморочки, которые лишь увеличат сложность и время разработки. 

- Не создавать теги в Posts Repository, а обращаться к Tags Repository.
- Не сохранять медиа в Posts Repository, а обратиться к Media Repository.
- Сделать связь Many-To-Many для медиа.

### Что я ещё не решил

> Можно отложить решения, связанные с Telegram Poster, выбором СУБД, хранилищем медиа, интерфейсом межсетевого взаимодействия (REST API). 
> 
> Приняты эти решения были заранее, потому что основная задумка — это посты в Telegram канал с возможностью отображения постов на сайте. Взяв эту идею, я спроектировал масштабируемое приложение, где можно добавить или заменить любую инфраструктурную часть. Основное взаимодействие не меняется.

- Создавать посты через веб-интерфейс или Telegram бота. По сути можно прикрутить любой интерфейс, да и заниматься придётся этим далеко позже, так что можно отложить решение.